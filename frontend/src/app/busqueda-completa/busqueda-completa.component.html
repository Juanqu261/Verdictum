<div class="container">
  <div class="logo">
    <svg width="48" height="48" viewBox="0 0 48 48" fill="none">
      <circle cx="24" cy="24" r="24" fill="#1976d2"/>
      <text x="50%" y="58%" text-anchor="middle" fill="#fff" font-size="22" font-family="Segoe UI, Arial" font-weight="bold" dy=".3em">üìÑ</text>
    </svg>
  </div>
  <h2>B√∫squeda completa</h2>
  <p style="color:#444; margin-bottom:1.5em;">
    Completa los siguientes datos para realizar una b√∫squeda detallada.
  </p>
  <form (ngSubmit)="buscar()" style="width:100%;max-width:340px;">
    <!-- Tipo de Persona -->
    <label for="tipoPersona">Tipo de Persona: <span style="color:#d32f2f">*</span></label>
    <select id="tipoPersona" [(ngModel)]="tipoPersona" name="tipoPersona" required>
      <option value="" disabled selected>Seleccione tipo</option>
      <option value="natural">Natural</option>
      <option value="juridica">Jur√≠dica</option>
    </select>

    <!-- Nombre(s) Apellido o Raz√≥n social -->
    <label for="nombre">Nombre(s) Apellido o Raz√≥n social: <span style="color:#d32f2f">*</span></label>
    <input id="nombre" [(ngModel)]="nombre" name="nombre" placeholder="Ej: Juan P√©rez o Empresa S.A." required />

    <!-- Departamento -->
    <label for="departamento">Departamento:</label>
    <select id="departamento" [(ngModel)]="departamento" name="departamento" (change)="onDepartamentoChange()">
      <option value="" selected>Seleccione departamento</option>
      <option *ngFor="let dep of departamentos" [value]="dep">{{ dep }}</option>
    </select>

    <!-- Ciudad -->
    <label for="ciudad">Ciudad/Municipio:</label>
    <select id="ciudad" [(ngModel)]="ciudad" name="ciudad" [disabled]="!departamento || ciudades.length === 0" (click)="onCiudadClick()">
      <option value="" selected>Seleccione ciudad o municipio</option>
      <option *ngFor="let c of ciudades" [value]="c">{{ c }}</option>
    </select>
    <div *ngIf="showNoCiudadMsg" style="color:#d32f2f; font-size:0.95em; margin-bottom:0.5em;">
      No hay datos disponibles porque no se escogi√≥ departamento.
    </div>

    <!-- Entidad -->
    <label for="entidad">Entidad:</label>
    <input id="entidad" [(ngModel)]="entidad" name="entidad" placeholder="Ej: Rama Judicial" />

    <!-- Especialidad -->
    <label for="especialidad">Especialidad:</label>
    <input id="especialidad" [(ngModel)]="especialidad" name="especialidad" placeholder="Ej: Civil, Penal, etc." />

    <!-- Despacho -->
    <label for="despacho">Despacho:</label>
    <input id="despacho" [(ngModel)]="despacho" name="despacho" placeholder="Ej: Juzgado 1 Civil Municipal" />

    <button type="submit" style="width:100%;margin-top:1.5em;">Buscar</button>
  </form>
</div>
